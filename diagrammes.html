<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Diagrammes UML - Projet MedApp</title>
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; }
    pre { background: #f8f8f8; padding: 1em; border-radius: 8px; }
    .mermaid { background: #fff; margin-bottom: 2em; }
  </style>
</head>
<body>
  <h1>Diagrammes UML - Projet MedApp</h1>

  <h2>1. Diagramme de cas d’utilisation globale du système</h2>
  <div class="mermaid">
  graph TD
    Patient((Patient))
    MedGen((Médecin généraliste))
    Spécialiste((Spécialiste))
    Secretaire((Secrétaire))
    Tech((Technicien labo))
    Pharmacien((Pharmacien))
    Administrateur((Administrateur))

    UC1([Prendre rendez-vous])
    UC2([Consulter dossier médical])
    UC3([Consulter résultats d’analyses])
    UC4([Mettre à jour dossier médical])
    UC5([Rédiger une prescription])
    UC6([Orienter vers un spécialiste])
    UC7([Réaliser une consultation spécialisée])
    UC8([Saisir résultats d’analyse])
    UC9([Dispenser médicaments])
    UC10([Gérer utilisateurs])

    Patient -- Prendre rendez-vous --> UC1
    Patient -- Consulter dossier médical --> UC2
    Patient -- Consulter résultats d’analyses --> UC3
    MedGen -- Consulter dossier médical --> UC2
    MedGen -- Mettre à jour dossier médical --> UC4
    MedGen -- Rédiger une prescription --> UC5
    MedGen -- Orienter vers un spécialiste --> UC6
    Spécialiste -- Réaliser une consultation spécialisée --> UC7
    Spécialiste -- Rédiger une prescription --> UC5
    Secretaire -- Prendre rendez-vous --> UC1
    Tech -- Saisir résultats d’analyse --> UC8
    Pharmacien -- Dispenser médicaments --> UC9
    Administrateur -- Gérer utilisateurs --> UC10
  </div>

  <h2>2. Diagramme de classes du système</h2>
  <div class="mermaid">
classDiagram
  class Patient {
    +int id
    +String nom
    +String prénom
    +Date dateNaissance
    +String email
    +String téléphone
    +String adresse
    +String numSecu
    +String login
    +String motDePasse
    +consulterDossier()
    +prendreRDV()
    +consulterPrescriptions()
    +consulterExamens()
  }
  class DossierMedical {
    +int id
    +int patientId
    +String antécédents
    +String allergies
    +ajouterConsultation()
    +ajouterPrescription()
    +ajouterAnalyse()
  }
  class MedecinGeneraliste {
    +int id
    +String nom
    +String spécialité
    +consulterPatient()
    +rédigerPrescription()
    +orienterSpécialiste()
  }
  class Spécialiste {
    +int id
    +String nom
    +String domaine
    +consulterDemande()
    +compléterDiagnostic()
    +prescrireTraitement()
  }
  class Secretaire {
    +int id
    +String nom
    +gérerRDV()
    +mettreAJourDossier()
  }
  class Technicien {
    +int id
    +String nom
    +saisirRésultat()
    +validerAnalyse()
  }
  class Pharmacien {
    +int id
    +String nom
    +vérifierStock()
    +dispenserMédicament()
    +validerPrescription()
  }
  class Administrateur {
    +int id
    +String nom
    +gérerUtilisateur()
    +superviserLogs()
    +configurerSystème()
  }
  class Prescription {
    +int id
    +int patientId
    +int medecinId
    +générerOrdonnance()
    +validerPrescription()
  }
  class Medicament {
    +int id
    +String nom
    +mettreAJourStock()
    +vérifierDisponibilité()
  }
  class Analyse {
    +int id
    +int patientId
    +saisirRésultat()
    +validerAnalyse()
  }
  class RendezVous {
    +int id
    +Date date
    +créer()
    +modifier()
    +annuler()
  }
  class Consultation {
    +int id
    +Date date
    +créer()
    +modifier()
    +archiver()
  }
  class Dispensation {
    +int id
    +enregistrer()
    +valider()
  }
  class Log {
    +int id
    +enregistrerAction()
  }
  Patient "1" *-- "1" DossierMedical
  Patient "0..*" o-- RendezVous
  Patient "0..*" o-- Prescription
  DossierMedical "0..*" o-- Consultation
  DossierMedical "0..*" o-- Prescription
  DossierMedical "0..*" o-- Analyse
  MedecinGeneraliste "0..*" o-- Patient
  MedecinGeneraliste "0..*" o-- Prescription
  MedecinGeneraliste "0..*" o-- RendezVous
  Spécialiste "0..*" o-- Consultation
  Pharmacien "0..*" o-- Medicament
  Technicien "0..*" o-- Analyse
  RendezVous "1" o-- Patient
  RendezVous "1" o-- MedecinGeneraliste
  Prescription "1" o-- Patient
  Prescription "1" o-- MedecinGeneraliste
  Prescription "1..*" o-- Medicament
  Analyse "1" o-- Patient
  Analyse "1" o-- Technicien
  </div>

  <h2>3. Diagramme de séquence : saisie et consultation des résultats d’analyse biologique</h2>
  <div class="mermaid">
sequenceDiagram
  participant Technicien
  participant InterfaceTechnicien
  participant Systeme
  participant BaseDeDonnees
  participant Patient
  participant InterfacePatient
  participant Medecin
  participant InterfaceMedecin
  Technicien->>InterfaceTechnicien: authentifier(login, motDePasse)
  InterfaceTechnicien->>Systeme: getDemandesAnalyses(idTechnicien)
  Systeme->>BaseDeDonnees: requête analyses
  BaseDeDonnees-->>Systeme: liste analyses
  Systeme-->>InterfaceTechnicien: liste analyses
  Technicien->>InterfaceTechnicien: selectAnalyse(idAnalyse)
  InterfaceTechnicien->>Systeme: saisirResultat(idAnalyse, resultat)
  Systeme->>BaseDeDonnees: saveResultat(Analyse)
  Systeme->>Patient: notify(idPatient, message)
  Systeme->>Medecin: notify(idMedecin, message)
  Patient->>InterfacePatient: consulterResultats()
  InterfacePatient->>Systeme: consulterResultats(idPatient)
  Systeme->>BaseDeDonnees: requête résultats
  BaseDeDonnees-->>Systeme: résultats
  Systeme-->>InterfacePatient: résultats
  Medecin->>InterfaceMedecin: consulterResultats(idPatient)
  InterfaceMedecin->>Systeme: consulterResultats(idMedecin, idPatient)
  Systeme->>BaseDeDonnees: requête résultats
  BaseDeDonnees-->>Systeme: résultats
  Systeme-->>InterfaceMedecin: résultats
  </div>

  <h2>4. Diagramme d’activité : Prise de rendez-vous d’un patient avec un médecin</h2>
  <div class="mermaid">
flowchart TD
  D(Début)
  A[Authentification]
  B{Sélection type de consultation}
  C[Vérification disponibilités]
  D1{Disponibilité ?}
  E[Confirmation]
  F[Notification]
  G(Fin)
  D --> A --> B --> C --> D1
  D1 -- Oui --> E --> F --> G
  D1 -- Non --> B
  E -- Annulation --> G
  </div>

</body>
</html> 